% ab-aw
% !TEX encoding = UTF-8 Unicode
\documentclass[12pt]{article}
\addtolength{\parskip}{.5\baselineskip}
\usepackage[a4paper]{geometry}
%\usepackage[a4paper,hmargin=3cm,vmargin=3.5cm]{geometry}
\usepackage{amssymb,amsmath}
\usepackage[T1]{fontenc} 
\usepackage[utf8]{inputenc}%\usepackage[latin1]{inputenc}
%\usepackage{tikz}
\usepackage{tikz-cd}
\usepackage{hyperref}
\usepackage{datetime}
%\pagestyle{empty}
\usepackage{amsthm}
\newtheorem{thm}{Theorem}
\newtheorem{lem}[thm]{Lemma}
\newtheorem{prop}[thm]{Proposition}
\newtheorem{cor}[thm]{Corollary}
\newtheorem{defn}[thm]{Definition} 
\newtheorem{nota}[thm]{Notation}
\theoremstyle{remark}
\newtheorem{cm}[thm]{Comment} 
\newtheorem{rk}[thm]{Remark} 
%\theoremstyle{definition}\newtheorem{defn}{Definition}
\newcommand{\bu}{\bullet}
\newcommand{\n}{\noindent} 
%
\newcommand{\cc}{\mathcal} 
\newcommand{\bb}{\mathbb} 
\newcommand{\A}{\mathcal A}
\newcommand{\B}{\mathcal B}
\newcommand{\C}{\mathcal C}
\newcommand{\F}{\mathcal F}
\newcommand{\G}{\mathcal G}
\newcommand{\J}{\mathcal J}
\newcommand{\M}{\mathcal M} 
\newcommand{\SSS}{\mathcal S}
\newcommand{\U}{\mathcal U}
\newcommand{\V}{\mathcal V}
\newcommand{\Set}{\textbf{Set}}
\newcommand{\Cat}{\textbf{Cat}}
\newcommand{\CCat}{\textbf{CCat}}
\newcommand{\e}{\varepsilon}
\newcommand{\epi}{\twoheadrightarrow}
\newcommand{\mono}{\rightarrowtail}
\newcommand{\m}{\rightarrowtail}
\newcommand{\op}{\text{op}}
\newcommand{\p}{\varphi} 
\newcommand{\pa}{\rightrightarrows} 
\newcommand{\pt}{\{\text{pt}\}} 
\newcommand{\xl}{\xleftarrow} 
\newcommand{\xr}{\xrightarrow} 
\newcommand{\be}{\begin{equation}} 
\newcommand{\ee}{\end{equation}} 
\newcommand{\cd}{commutative diagram} 
\newcommand{\ccd}{the comment containing Display} 
\newcommand{\nm}{natural morphism}
\newcommand{\pr}{Proposition} 
\newcommand{\sts}{t suffices to show} 
\newcommand{\rw}{[This is a rewriting of a previous comment. The new version below has already been incorporated into the main text.]} 
\newcommand{\cn}{(See (\ref{convnot}) p. \pageref{convnot} for an explanation of the notation.) }
%
% LIMITS
% old
\newcommand{\colim}{\operatornamewithlimits{\underset{\longrightarrow}{lim}}} 
\newcommand{\ilim}{\operatornamewithlimits{\underset{\longrightarrow}{lim}}} 
\newcommand{\plim}{\operatornamewithlimits{\underset{\longleftarrow}{lim}}} 
% new
\DeclareMathOperator*{\coli}{colim}
\DeclareMathOperator*{\co}{colim}
\DeclareMathOperator*{\icolim}{``\coli"}
\DeclareMathOperator*{\ic}{``\coli"}
% 
\DeclareMathOperator{\Ad}{Add} 
\DeclareMathOperator{\Coim}{Coim}
\DeclareMathOperator{\Coker}{Coker}
\DeclareMathOperator{\Ima}{Im} 
\DeclareMathOperator{\IM}{IM} 
\DeclareMathOperator{\hy}{h} 
\DeclareMathOperator{\ky}{k} 
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Fct}{Fct}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\h}{Hom}
\DeclareMathOperator{\Ind}{Ind}
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Mod}{Mod} 
\DeclareMathOperator{\Mor}{Mor} 
\DeclareMathOperator{\Ob}{Ob}
%\DeclareMathOperator{\Set}{Set}
%\arrow[yshift=0.7ex]{r}\arrow[yshift=-0.7ex]{r} 
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  
%
\title{Next addition to \em{About ``Categories and Sheaves''}} 
\author{Pierre-Yves Gaillard} 
\date{\today, \currenttime} 
% 
\begin{document} 
% 
\maketitle  
%
\section{Typos and Details} 
%
\n P. 141, Corollary 6.3.7 (ii): $\id$ should be $\id_\C$. 

\n P.~170, Corollary 8.2.4. The final period is missing. 

\n P. 188, after the second diagram: ``the set of isomorphisms classes of $\Delta$'' should be ``the set of isomorphisms classes of objects of $\Delta$''. 

\n P. 199, middle of the page: I think that ``Condition S'4'' would be more common English than ``The condition S'4''. 

\n P. 201, proof of Lemma 8.7.7, first line: ``we can construct a commutative diagram''. I think the authors meant ``we can construct an exact commutative diagram''.

\n P. 266, Exercise 10.6. I think the authors forgot to assume that the top left square commutes. 
% 
\section{Brief comments} %%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
%
\n$\bu$ P. 14, Definition 1.2.5.
%
\begin{nota}\label{c*}%\newtheorem{nota}[thm]{Notation}
%
Let $\C$ be a category. Define the category $\C^*$ as follows. The objects of $\C^*$ are the objects of $\C$, the set $\h_{\C^*}(X,Y)$ is defined by  
$$
\h_{\C^*}(X,Y):=\{Y\}\times\h_{\C}(X,Y)\times\{X\},
$$
and the composition is defined by 
$$
(Z,g,Y)\circ(Y,f,X):=(Z,g\circ f,X).
$$ 
%
\end{nota}
%
Note that there are natural inverse isomorphisms $\C\rightleftarrows\C^*$. 
%
\begin{nota}\label{mor}
%
Let $\C$ be a category. Define the category $\Mor(\C)$ as follows. The objects of $\Mor(\C)$ are the objects of $\C^*$, we have for $(Y,f,X)$ and $(V,g,U)$ in $\C^*$\bigskip 

\n$\displaystyle \h_{\Mor(\C)}((Y,f,X),(V,g,U)):=$\bigskip 

$\hfill\displaystyle\{(a,b)\in\h_\C(X,U)\times\h_\C(Y,V)\ | \ g\circ a=b\circ f\},$\bigskip 

\n and the composition is defined by 
$$
(Z,g,Y)\circ(Y,f,X):=(Z,g\circ f,X).
$$
%
\end{nota}
%
Observe that a functor $\A\to\B$ is given by two maps 
$$
\Ob(\A)\to\Ob(\B),\quad\Ob(\Mor(\A))\to\Ob(\Mor(\B))
$$ 
satisfying certain conditions. 

%%

\n$\bu$ P. 80. [This comment has already been incorporated into the main text.] \pr s 3.2.4 and 3.2.6 can be combined as follows. 

\begin{prop}\label{comb} 
Let $\p:J\to I$ be fully faithful. Assume that $I$ is filtrant and cofinally small, and that for each $i$ in $I$ there is a morphism $i\to\p(j)$ for some $j$ in $J$. Then $\p$ is cofinal and $J$ is filtrant and cofinally small. 
\end{prop} 

\n{\em Proof.} In view of \pr\ 3.2.4 it suffices to show that $J$ is cofinally small. By \pr\ 3.2.6, there is a small full subcategory $S\subset I$ cofinal to $I$. For each $s$ in $S$ pick a morphism $s\to\p(j_s)$ with $j_s\in J$. Then, for each $j$ in $J$ there are morphisms $\p(j)\to s\to\p(j_s)$ with $s$ in $S$. As $\p$ is full there is a morphism $j\to j_s$, and we conclude by using again \pr\ 3.2.6. 

%% 

\n$\bu$ P. 147, Exercise 6.11. \rw\ We prove the following slightly more general statement: 
% 
\begin{prop}
%
Let $F:\cc C\to\cc C'$ be a functor, let $A'$ be in $\Ind(\cc C')$, and let $S$ be the set of objects $A$ of $\Ind(\cc C)$ such that $IF(A)\simeq A'$. Then the following conditions are equivalent: 

\n{\em(a)} $S\neq\varnothing$, 

\n{\em(b)} all morphism $X'\to A'$ in $\Ind(\cc C')$ with $X'$ in $\cc C'$ factorizes through $F(X)$ for some $X$ in $\cc C$, 

\n{\em(c)} the natural functor $\cc C_{A'\circ F}\to\cc C'_{A'}$ is cofinal, 

\n{\em(d)} $A'\circ F\in S$.
%
\end{prop}
%
[The proof (given in the main text) is not reproduced here.]\bigskip 

%% 

\n$\bu$ P.~149, Definition 7.1.1. The set $\cc S$ is a subset of $\Ob(\Mor(\C))$ (see Notation~\ref{mor} p.~\pageref{mor}). The proof of the following lemma is obvious. 
%
\begin{lem}\label{711}
%
Let 
$$
\begin{tikzcd}\C\ar[yshift=.5ex]{r}{Q}&\C'\ar[yshift=-.4ex]{l}{R}\end{tikzcd}
$$ 
be functors such that $Q\circ R\simeq\id_{\C'}$, let $\cc S$ be a set of morphisms in $\C$, let $\theta:\id_\C\to R\circ Q$ satisfy $\theta_X\in\cc S$ for all $X$ in $\C$, let $\A$ be a category, and let $\B$ be the full subcategory of $\A^\C$ whose objects are the functors turning the elements of $\cc S$ into isomorphisms. Then the functors 
$$
\begin{tikzcd}\A^{\C'}\ar[yshift=.4ex]{r}{\circ Q}&\B\ar[yshift=-.5ex]{l}{\circ R}\end{tikzcd}
$$ 
are quasi-inverse equivalences. In particular, $Q$ is a localization of $\C$ by $\cc S$.
%
\end{lem}

%% 

\n$\bu$ P.~169, Lemma 8.2.3. Here is a statement contained in Lemma 8.2.3:
%
\begin{cor}\label{823}
%
Let $\C$ be a pre-additive category, let $X_1$ and $X_2$ be two objects of $\C$ such that the product $X=X_1\times X_2$ exists in $\C$, let $p_a:X\to X_a$ be the projection, define $i_a:X_a\to X$ by 
$$
p_a\circ i_b=\begin{cases}\id_{X_a}&\text{if }a=b\\0&\text{if }a\not=b.\end{cases}
$$ 
Then $X$ is a coproduct of $X_1$ and $X_2$ by $i_1$ and $i_2$. Moreover we have 
$$
i_1\circ p_1+i_2\circ p_2=\id_{X_1\times X_2}.
$$
\end{cor}

Let us denote the object $X$ above by $X_1\oplus X_2$. The following lemma is implicit in the book. 

\begin{lem}
For $a=1,2$ let $f_a:X_a\to Y_a$ be a morphism in $\C$. Assume that $X_1\oplus X_2$ and $Y_1\oplus Y_2$ exist in $\C$. Then we have $f_1\times f_2=f_1\sqcup f_2$ (equality in $\h_\C(X_1\oplus X_2,Y_1\oplus Y_2)$. 
\end{lem} 

We denote this morphism by $f_1\oplus f_2$.\medskip 

\n{\em Proof.} Put $X:=X_1\oplus X_2,\ Y:=Y_1\oplus Y_2$ and write 
$$
X_a\xr{i_a}X\xr{p_a}X_a,\quad Y_a\xr{j_a}Y\xr{q_a}Y_a
$$ 
for the projections and coprojections. We have $q_a\circ(f_1\times f_2)=f_a\circ p_a$, and we must show $q_b\circ (f_1\times f_2)\circ i_a=q_b\circ j_a\circ f_a$ for all $b$. This follows immediately from Corollary~\ref{823}. q.e.d. 

%% 

\n$\bu$ P.~172, proof of Lemma 8.2.10. Recall the statement: $\C$ is an additive category, $X$ is in $\C$. The claim is that $X$ is an abelian group object. The addition is given by the codiagonal morphism $\sigma:X\oplus X\to X$. This comment is only about the associativity of the addition. This associativity can also be proved as follows. 

Put $X^n:=X\oplus\cdots\oplus X$ ($n$ factors), and let $X\xr{i_a}X^n\xr{\sigma_n}X$ be respectively the $a$-th coprojection and the codiagonal morphism. It clearly suffices to show that the composition 
$$
X^3\xr{\sigma_2\oplus X}X^2\xr{\sigma_2}X
$$ 
is equal to $\sigma_3$. This follows from the fact that the composition 
$$
X\xr{i_a}X^3\xr{\sigma_2\oplus X}X^2
$$ 
is equal to $i_b$ with 
$$
b=\begin{cases}1&\text{if }a=1,2\\2&\text{if }a=3.\end{cases}
$$ 
q.e.d. 

%% 

\n$\bu$ P.~172, Lemma 8.2.11. Here is a minor variant of the statement: 
%
\begin{lem}
Let $F:\C\to\C'$ be a functor between additive categories, let $X$ be in $\C$, and let 
$$
\begin{tikzcd}
F(X\oplus X)\ar[yshift=.7ex]{r}{f}&F(X)\oplus F(X)\ar[yshift=-.7ex]{l}{g}
\end{tikzcd}
$$ 
be the natural morphisms. (More precisely, $f$ and $g$ are respectively obtained by regarding $\oplus$ as a product and as a coproduct.) If $f$ or $g$ is an isomorphism, then the other is its inverse. 
\end{lem}
% 
This follows from Lemma 8.2.3 p.~169 of the book.\bigskip 

%% 

\n$\bu$ P.~173. \pr s 8.2.12 and 8.2.13 can be stated as follows. 
%
\begin{prop}\label{8212}
%
Let $\C$ be an additive category, let $\operatorname{Add}(\C,\Mod(\mathbb Z))$ and $\operatorname{Prod}(\C,\textbf{\em Set})$ be the category of additive functors from $\C$ to $\Mod(\mathbb Z)$ and the category of finite products preserving functors from $\C$ to $\textbf{\em Set}$, and let $F$ be in $\operatorname{Prod}(\C,\textbf{\em Set})$. Then the composition 
$$
F(X)\times F(X)\xleftarrow\sim F(X\oplus X)\xr{\sigma_X}F(X)
$$ 
defines a structure of abelian group on $F(X)$. This construction defines a functor 
$$
\Phi:\operatorname{Prod}(\C,\textbf{\em Set})\to\operatorname{Add}(\C,\Mod(\mathbb Z)).
$$ 
Let 
$$
\Psi:\operatorname{Add}(\C,\Mod(\mathbb Z))\to\operatorname{Prod}(\C,\textbf{\em Set})
$$ 
be the natural functor. Then $\Phi$ and $\Psi$ are inverse isomorphisms. 
%
\end{prop}

\n$\bu$ P.~173, Theorem 8.2.14. Recall the statement: 

Let $\C$ be an additive category. Then $\C$ has a unique structure of pre-additive category. 

Here is a minor variant of the proof of the existence of such a structure. 

Let $X$ and $Y$ be in $\C$. We define the addition on $\h_\C(X,Y)$ by letting $k:\C\to\C^\vee$ be the Yoneda embedding and observing that, in the notation of \pr\ \ref{8212}, $\h_\C(X,Y)$ is the set underlying the abelian group $\Phi(k(X))(Y)$. In particular, we have $g\circ(f_1+f_2)$ for $X\xr{f_i}Y\xr gZ$. It is easy to conclude from this that the above construction endows $\C$ with a structure of pre-additive category. 

%% 

\n$\bu$ P. 177, Definition 8.3.5. The following definitions and observations are implicit in the book. Let $\cc A$ be a subcategory of a pre-additive category $\cc B$, and let $\iota:\cc A\to \cc B$ be the inclusion. If $\cc A$ is pre-additive and $\iota$ is additive, we say that $\cc A$ is a {\em pre-additive subcategory} of $\cc B$. If in addition $\cc A$ and $\cc B$ are additive (resp. abelian), we say that $\cc A$ is {\em an additive (resp. abelian) subcategory} of $\cc B$. Now let $\cc A$ and $\cc B$ be categories. If $\cc B$ is pre-additive (resp. additive, abelian), then so is the category $\cc C:=\cc B^\cc A$ of functors from $\cc A$ to $\cc B$. Assume in addition that $\cc A$ is pre-additive. If $\cc B$ is pre-additive (resp. additive, abelian), then the full subcategory $\cc D:=\Ad(\cc A,\cc B)$ of $\cc C$ whose objects are the additive functors from $\cc A$ to $\cc B$ is a pre-additive (resp. additive, abelian) subcategory of $\cc C$. 

%% 

\n$\bu$ P. 186, Definition 8.3.24 (definition of a Grothendieck category). The condition that small filtrant inductive limits are exact is not automatic. I know no entirely elementary proof of this important fact. Here is a proof using a little bit of sheaf theory. To show that there is an abelian category where small filtrant inductive limits exist but are not exact, it suffices to prove that there is an abelian category $\C$ where small filtrant {\em projective} limits exist but are not exact. It is even enough to show that small products are not exact in $\C$. Let $X$ be a topological space, and let $U_0\supset U_1\supset\cdots$ be a decreasing sequence of open subsets whose intersection is a non-open closed singleton $\{a\}$. We can take for $\C$ the category of small abelian sheaves on $X$. To see this, let $G$ be the abelian presheaf over $X$ such that $G(U)$ is $\mathbb Z$ if $a\in U$ and 0 otherwise, and, for each $n\in\mathbb N$, let $F_n$ be the abelian presheaf over $X$ such that $F_n(U)$ is $\mathbb Z$ if $U\subset U_n$ and 0 otherwise. These presheaves are easily seen to be sheaves. For each $n\in\mathbb N$ and each open set $U$ let $F_n(U)\to G(U)$ be the identity if $a\in U\subset U_n$ and 0 otherwise. This family of morphisms define, when $U$ varies, an epimorphism $\p_n:F_n\epi G$. Put 
$$
F:=\prod_{n\in\mathbb N}F_n,\quad H:=\prod_{n\in\mathbb N}G,\quad\p:=\prod_{n\in\mathbb N}\p_n:F\to H.
$$ 
It suffices to show that the morphism $\p(a):F(a)\to H(a)$ between the stalks at $a$ induced by $\p$ is not an epimorphism. This is clear because $\p(a)$ is the natural morphism 
$$
\bigoplus_{n\in\mathbb N}\mathbb Z\to\prod_{n\in\mathbb N}\mathbb Z.
$$ 

%% 

\n$\bu$ P.~199, Lemma 8.7.4 (ii). This comment is about the claim that the natural functor $E:\cc D'_{\cc S}\to\C$ is an equivalence. I don't understand the proof of the faithfulness of $E$ given in the book. I think that it suffices, in view of \pr\ 7.1.2 (i) p.~150 and Theorem 7.1.16 p.~155, to check that 
%
\be\label{l}
Q:\cc D'\to\C\text{ is a localization of }\cc D'\text{ by }\cc S.
\ee
%
To prove \eqref{l}, one can apply Lemma~\ref{711} p.~\pageref{711} with $R:\C\to\cc D'$ defined by $R(X):=(0\to X)$. 
% 
\end{document}
